---
title: "[React Docs ver.2] Passing Data Deeply with Context - contextë¡œ ë°ì´í„° ê¹Šìˆ™ì´ ì „ë‹¬í•˜ê¸°"
date: "2023-09-11"
template: "post"
draft: false
slug: "/posts/react-doc-v2-24"
category: "React"
tags:
  - "React"
description: "ë¦¬ì•¡íŠ¸ ìƒˆë¡œìš´ ê³µì‹ë¬¸ì„œë¥¼ ì½ê³  ì •ë¦¬í•œ ê¸€"
# socialImage: "./media/42-line-bible.jpg"
---

> ğŸ³ ë³¸ ê²Œì‹œê¸€ì€ ë¦¬ì•¡íŠ¸ì˜ ìƒˆë¡œìš´ [ê³µì‹ë¬¸ì„œ](https://react.dev/learn/passing-data-deeply-with-context#)ë¥¼ ì½ê³  ì •ë¦¬í•œ ê¸€ì´ë‹¤.

#### ğŸŒ ëª©ì°¨

- [Overview](#overview)
- [Propsì „ë‹¬ì˜ ë¬¸ì œ](#propsì „ë‹¬ì˜-ë¬¸ì œ)
- [Context : ì „ë‹¬ì˜ ëŒ€ì•ˆ](#context--ì „ë‹¬ì˜-ëŒ€ì•ˆ)
  - [Step 1 : context ìƒì„±](#step-1--context-ìƒì„±)
  - [Step 2 : context ì‚¬ìš©](#step-2--context-ì‚¬ìš©)
  - [Step 3 : context ì œê³µ](#step-3--context-ì œê³µ)

## Overview

ë³´í†µ propsë¡œ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œ ì •ë³´ë¥¼ ì „ë‹¬í•œë‹¤. í•˜ì§€ë§Œ propsë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì€ ì¤‘ê°„ì— ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ê±°ì¹˜ê±°ë‚˜ ì•±ì˜ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ê°€ ê°™ì€ ì •ë³´ë¥¼ í•„ìš”ë¡œ í•˜ëŠ” ê²½ìš° ì¥í™©í•˜ê³  ë¶ˆí¸í•  ìˆ˜ ìˆë‹¤. ì´ ê²½ìš° Contextë¥¼ ì‚¬ìš©í•˜ë©´ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ëŠ” ì•„ë˜ íŠ¸ë¦¬ì˜ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì— ì¼ë¶€ ì •ë³´ë¥¼ ê¹Šì´ì— ìƒê´€ ì—†ì´ ì œê³µí•  ìˆ˜ ìˆë‹¤.

## Propsì „ë‹¬ì˜ ë¬¸ì œ

[Props ì „ë‹¬](https://react.dev/learn/passing-props-to-a-component)ì€ UI íŠ¸ë¦¬ë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¡œ ë°ì´í„°ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì—°ê²°í•˜ëŠ” ì¢‹ì€ ë°©ë²•ì´ë‹¤.
í•˜ì§€ë§Œ íŠ¸ë¦¬ë¥¼ í†µí•´ ì¼ë¶€ propì„ ê¹Šì´ ì „ë‹¬í•˜ê±°ë‚˜ ë§ì€ ì»´í¬ë„ŒíŠ¸ì— ê°™ì€ propì´ í•„ìš”í•œ ê²½ìš° propì „ë‹¬ì€ ì¥í™©í•˜ê³  ë¶ˆí¸í•  ìˆ˜ ìˆë‹¤. ê°€ì¥ ê°€ê¹Œìš´ ê³µí†µ ì¡°ìƒì´ ë°ì´í„°ê°€ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë©€ë¦¬ ë–¨ì–´ì ¸ ìˆì„ ìˆ˜ ìˆê³ , [stateë¥¼ ë†’ì´ ëŒì–´ì˜¬ë¦¬ë©´](https://react.dev/learn/sharing-state-between-components) <span style="background:#d2cbff">"props drilling"</span>ì˜ ìƒí™©ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
![image](https://github.com/tamoimi/obsidian/assets/100749520/30863421-5174-4c3e-8749-7c32c839a36a)
propsë¥¼ ì „ë‹¬í•˜ì§€ ì•Šê³  íŠ¸ë¦¬ì—ì„œ ë°ì´í„°ë¥¼ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë¡œ â€œ<span style="background:#d2cbff">teleport</span>â€í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ìˆë‹¤ë©´ ì¢‹ì§€ ì•Šì„ê¹Œ? Reactì˜ context ê¸°ëŠ¥ì„ ì‚¬ìš©í•´ë³´ì!

## Context : ì „ë‹¬ì˜ ëŒ€ì•ˆ

Contextë¡œ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ì•„ë˜ ì „ì²´ íŠ¸ë¦¬ì— ë°ì´í„°ë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤. contextëŠ” ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤. ì•„ë˜ëŠ” í•˜ë‚˜ì˜ ì˜ˆì‹œì´ë‹¤. í¬ê¸°ì— ëŒ€í•œ `level`ì„ ë°›ì•„ë“¤ì´ëŠ” `Heading`ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒê°í•´ë³´ì:

- `App.js`

```js
import Heading from "./Heading.js";
import Section from "./Section.js";

export default function Page() {
  return (
    <Section>
      <Heading level={1}>Title</Heading>
      <Heading level={2}>Heading</Heading>
      <Heading level={3}>Sub-heading</Heading>
      <Heading level={4}>Sub-sub-heading</Heading>
      <Heading level={5}>Sub-sub-sub-heading</Heading>
      <Heading level={6}>Sub-sub-sub-sub-heading</Heading>
    </Section>
  );
}
```

- `Section.js`

```js
export default function Section({ children }) {
  return <section className="section">{children}</section>;
}
```

- `Heading.js`

```js
export default function Heading({ level, children }) {
  switch (level) {
    case 1:
      return <h1>{children}</h1>;
    case 2:
      return <h2>{children}</h2>;
    case 3:
      return <h3>{children}</h3>;
    case 4:
      return <h4>{children}</h4>;
    case 5:
      return <h5>{children}</h5>;
    case 6:
      return <h6>{children}</h6>;
    default:
      throw Error("Unknown level: " + level);
  }
}
```

![image](https://github.com/tamoimi/obsidian/assets/100749520/bf10ee7f-d5bb-4077-849a-1b68724a8671)

ê°™ì€ `Section` ë‚´ì˜ ì—¬ëŸ¬ê°€ì§€ ì œëª©ì´ í•­ìƒ ê°™ì€ í¬ê¸°ë¥¼ ê°–ëŠ”ë‹¤ê³  ê°€ì •í•´ ë³´ì:

- `App.js`

```js
import Heading from "./Heading.js";
import Section from "./Section.js";

export default function Page() {
  return (
    <Section>
      <Heading level={1}>Title</Heading>
      <Section>
        <Heading level={2}>Heading</Heading>
        <Heading level={2}>Heading</Heading>
        <Heading level={2}>Heading</Heading>
        <Section>
          <Heading level={3}>Sub-heading</Heading>
          <Heading level={3}>Sub-heading</Heading>
          <Heading level={3}>Sub-heading</Heading>
          <Section>
            <Heading level={4}>Sub-sub-heading</Heading>
            <Heading level={4}>Sub-sub-heading</Heading>
            <Heading level={4}>Sub-sub-heading</Heading>
          </Section>
        </Section>
      </Section>
    </Section>
  );
}
```

![image](https://github.com/tamoimi/obsidian/assets/100749520/04eb22c4-9dfb-4826-bbf8-5753c8c49fd1)

í˜„ì¬ `level`propì„ `<Heading>`ì— ë”°ë¡œ ì „ë‹¬í•˜ê³  ìˆë‹¤:

```js
<Section>
  <Heading level={3}>About</Heading>
  <Heading level={3}>Photos</Heading>
  <Heading level={3}>Videos</Heading>
</Section>
```

`level`propì„ `<Section>`ì»´í¬ë„ŒíŠ¸ì— ëŒ€ì‹  ì „ë‹¬í•˜ë©´ ë” ì¢‹ì„ ê²ƒì´ë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ê°™ì€ sectionì˜ ëª¨ë“  ì œëª©ì´ ê°™ì€ í¬ê¸°ë¥¼ ê°–ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆë‹¤:

```js
<Section level={3}>
  <Heading>About</Heading>
  <Heading>Photos</Heading>
  <Heading>Videos</Heading>
</Section>
```

í•˜ì§€ë§Œ `<Heading>`ì»´í¬ë„ŒíŠ¸ê°€ ê°€ì¥ ê°€ê¹Œìš´ `<Section>`ì˜ levelì„ ì–´ë–»ê²Œ ì•Œ ìˆ˜ ìˆì„ê¹Œ? **ê·¸ëŸ¬ê¸° ìœ„í•´ì„œëŠ” ìì‹ì´ íŠ¸ë¦¬ ìœ„ ì–´ë”˜ê°€ì—ì„œ ë°ì´í„°ë¥¼ â€œìš”ì²­â€í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ í•„ìš”í•˜ë‹¤.**

Props ë§Œìœ¼ë¡œëŠ” í•  ìˆ˜ ì—†ê³  contextë¥¼ ì‚¬ìš©í•´ ì„¸ ë‹¨ê³„ë¡œ ì§„í–‰í•  ìˆ˜ ìˆë‹¤:

1. contextë¥¼Â <span style="background:#d2cbff">**ìƒì„±**</span>í•œë‹¤. (heading levelì— ëŒ€í•œ ê²ƒì´ë¯€ë¡œÂ `LevelContext`ë¼ê³  ë¶€ë¥¼ ìˆ˜ ìˆë‹¤.)
2. ë°ì´í„°ê°€ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ì—ì„œ í•´ë‹¹ contextë¥¼Â <span style="background:#d2cbff">**ì‚¬ìš©**</span>í•œë‹¤. (`Heading`ì€Â `LevelContext`ë¥¼ ì‚¬ìš©í•œë‹¤.)
3. ë°ì´í„°ë¥¼ ì§€ì •í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ í•´ë‹¹ contextë¥¼Â <span style="background:#d2cbff">**ì œê³µ**</span>í•œë‹¤. (`Section`ì€Â `LevelContext`ë¥¼ ì œê³µí•œë‹¤).
   Contextë¥¼ ì‚¬ìš©í•´ ë¶€ëª¨ê°€ ë‚´ë¶€ íŠ¸ë¦¬ ì „ì²´ì— ì¼ë¶€ ë°ì´í„°ë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤.
   ![image](https://github.com/tamoimi/obsidian/assets/100749520/82080006-d1f7-46e8-a017-96be41b0eae2)

### Step 1 : context ìƒì„±

- ë¨¼ì € contextë¥¼ ìƒì„±í•œë‹¤. ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ **íŒŒì¼ì—ì„œ ë‚´ë³´ë‚´ê¸°**í•´ì•¼ í•œë‹¤:
- `LevelContext.js`

```js
import { createContext } from "react";

export const LevelContext = createContext(1);
```

`createContext`ì˜ ìœ ì¼í•œ ì¸ìˆ˜ëŠ” <span style="background:#d2cbff">ê¸°ë³¸ ê°’</span>ì´ë‹¤. ì—¬ê¸°ì„œ `1`ì€ ê°€ì¥ í° heading levelì„ ì˜ë¯¸í•˜ì§€ë§Œ ëª¨ë“  ì¢…ë¥˜ì˜ ê°’(ê°ì²´ í¬í•¨)ì„ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.

### Step 2 : context ì‚¬ìš©

- Reactì™€ contextì—ì„œ `useContext` Hookì„ ê°€ì ¸ì˜¨ë‹¤:

```js
import { useContext } from "react";

import { LevelContext } from "./LevelContext.js";
```

- í˜„ì¬ `Heading` ì»´í¬ë„ŒíŠ¸ëŠ” props ì—ì„œ `level`ì„ ì½ëŠ”ë‹¤:

```js
export default function Heading({ level, children }) {
  // ...
}
```

- ëŒ€ì‹  `level` propì„ ì œê±°í•˜ê³  ë°©ê¸ˆ importí•œ contextì¸ `LevelContext`ì—ì„œ ê°’ì„ ì½ëŠ”ë‹¤:

```js
export default function Heading({ children }) {
  const level = useContext(LevelContext);
  // ...
}
```

`useContext`ëŠ” Hookì´ë‹¤. `useState` ë° `useReducer`ì²˜ëŸ¼, React ì»´í¬ë„ŒíŠ¸ì˜ ìµœìƒë‹¨ì—ì„œ Hookì„ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤. **`useContext`ëŠ” Reactì—ê²Œ `Heading` ì»´í¬ë„ŒíŠ¸ê°€ `LevelContext`ë¥¼ ì½ê¸°ë¥¼ ì›í•œë‹¤ê³  ì•Œë ¤ì¤€ë‹¤.**
ì´ì œ `Heading` ì»´í¬ë„ŒíŠ¸ì—ëŠ” `level` prop ì´ ì—†ê¸°ì— ë” ì´ìƒ JSXì—ì„œ ì•„ë˜ì™€ ê°™ì´ `Heading`ì— level prop ì„ ì „ë‹¬í•  í•„ìš”ê°€ ì—†ë‹¤:

```js
<Section>
  <Heading level={4}>Sub-sub-heading</Heading>
  <Heading level={4}>Sub-sub-heading</Heading>
  <Heading level={4}>Sub-sub-heading</Heading>
</Section>
```

ëŒ€ì‹  `Section`ì´ levelì„ ë°›ë„ë¡ JSXë¥¼ ìˆ˜ì •í•œë‹¤:

```js
<Section level={4}>
  <Heading>Sub-sub-heading</Heading>
  <Heading>Sub-sub-heading</Heading>
  <Heading>Sub-sub-heading</Heading>
</Section>
```

ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •ëœ ì½”ë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤:

- `App.js`

```js
import Heading from "./Heading.js";
import Section from "./Section.js";

export default function Page() {
  return (
    <Section level={1}>
      <Heading>Title</Heading>
      <Section level={2}>
        <Heading>Heading</Heading>
        <Heading>Heading</Heading>
        <Heading>Heading</Heading>
        <Section level={3}>
          <Heading>Sub-heading</Heading>
          <Heading>Sub-heading</Heading>
          <Heading>Sub-heading</Heading>
          <Section level={4}>
            <Heading>Sub-sub-heading</Heading>
            <Heading>Sub-sub-heading</Heading>
            <Heading>Sub-sub-heading</Heading>
          </Section>
        </Section>
      </Section>
    </Section>
  );
}
```

ì´ ì˜ˆì œëŠ” ì•„ì§ ì œëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•ŠëŠ”ë‹¤! ì™œëƒí•˜ë©´ **contextë¥¼ ì‚¬ìš©í•˜ê³  ìˆì§€ë§Œ ì•„ì§ contextë¥¼ ì œê³µí•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ë‹¤.** ê·¸ë˜ì„œ ëª¨ë“  ì œëª©ì˜ í¬ê¸°ê°€ ê°™ë‹¤. ReactëŠ” ì–´ë””ì„œ contextë¥¼ ê°€ì ¸ì™€ì•¼ í• ì§€ ëª¨ë¥¸ë‹¤!

ë§Œì•½ contextë¥¼ ì œê³µí•˜ì§€ ì•Šìœ¼ë©´ ReactëŠ” ì´ì „ ë‹¨ê³„ì—ì„œ ì§€ì •í•œ ê¸°ë³¸ê°’ì„ ì‚¬ìš©í•œë‹¤. ì´ ì˜ˆì œì—ì„œ `createContext`ì˜ ì¸ìˆ˜ë¡œ `1`ì„ ì§€ì •í–ˆê¸° ë•Œë¬¸ì—, `useContext(LevelContext)`ëŠ” `1`ì„ ë°˜í™˜í•˜ê³  ëª¨ë“  ì œëª©ì„ `<h1>`ìœ¼ë¡œ ì„¤ì •í•œë‹¤. ê° `Section`ì´ ìì²´ contextë¥¼ ì œê³µí•  ìˆ˜ ìˆë„ë¡ í•´ì„œ ì´ ë¬¸ì œë¥¼ í•´ê²°í•´ ë³´ì.

### Step 3 : context ì œê³µ

- `Section` ì»´í¬ë„ŒíŠ¸ëŠ” í˜„ì¬ childrenì„ ë Œë”ë§í•œë‹¤:

```js
export default function Section({ children }) {
  return <section className="section">{children}</section>;
}
```

- **context providerë¡œ ê°ì‹¸ê³ ** `LevelContext`ë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤:

```js
import { LevelContext } from "./LevelContext.js";

export default function Section({ level, children }) {
  return (
    <section className="section">
      <LevelContext.Provider value={level}>{children}</LevelContext.Provider>
    </section>
  );
}
```

ì´ê²ƒì€ Reactì—ê²Œ â€œì´ `<Section>` ì•ˆì— ìˆëŠ” ì»´í¬ë„ŒíŠ¸ê°€ `LevelContext`ë¥¼ ìš”ì²­í•˜ë©´ ì´ `level`ì„ ì œê³µí•˜ë¼.â€ê³  ë§í•œë‹¤. ì»´í¬ë„ŒíŠ¸ëŠ” ê·¸ ìœ„ì— ìˆëŠ” UI íŠ¸ë¦¬ì—ì„œ ê°€ì¥ ê°€ê¹Œìš´`<LevelContext.Provider>`ì˜ ê°’ì„ ì‚¬ìš©í•œë‹¤.

ì›ë˜ ì½”ë“œì™€ ë™ì¼í•œ ê²°ê³¼ì´ì§€ë§Œ, ê° `Heading` ì»´í¬ë„ŒíŠ¸ì— `level` propì„ ì „ë‹¬í•  í•„ìš”ê°€ ì—†ë‹¤! ëŒ€ì‹ , ìœ„ì˜ ê°€ì¥ ê°€ê¹Œìš´ `Section`ì— ìš”ì²­í•˜ì—¬ ì œëª© levelì„ â€œíŒŒì•…â€í•œë‹¤:

1. `level`Â propì„Â `<Section>`ì— ì „ë‹¬í•œë‹¤.
2. `Section`ì€ sectionì˜ childrenì„Â `<LevelContext.Provider value={level}>`ë¡œ ê°ì‹¼ë‹¤.
3. `Heading`ì€Â `useContext(LevelContext)`ë¥¼ ì‚¬ìš©í•˜ì—¬ ìœ„ì˜Â `LevelContext`ê°’ì— ê°€ì¥ ê°€ê¹Œìš´ ê°’ì„ ìš”ì²­í•œë‹¤.

## ê°™ì€ ì»´í¬ë„ŒíŠ¸ì—ì„œ context ì‚¬ìš© ë° ì œê³µ

## ContextëŠ” ì¤‘ê°„ ì»´í¬ë„ŒíŠ¸ë¥¼ í†µê³¼í•œë‹¤

## Contextë¥¼ ì‚¬ìš©í•˜ê¸° ì „

## Context ì‚¬ìš© ì‚¬ë¡€

## ìš”ì•½
