---
title: "[React Docs ver.2] Updating Arrays in State - ë°°ì—´ state ì—…ë°ì´íŠ¸"
date: "2023-08-28"
template: "post"
draft: false
slug: "/posts/react-doc-v2-19"
category: "React"
tags:
  - "React"
description: "ë¦¬ì•¡íŠ¸ ìƒˆë¡œìš´ ê³µì‹ë¬¸ì„œë¥¼ ì½ê³  ì •ë¦¬í•œ ê¸€"
# socialImage: "./media/42-line-bible.jpg"
---

> ğŸ³ ë³¸ ê²Œì‹œê¸€ì€ ë¦¬ì•¡íŠ¸ì˜ ìƒˆë¡œìš´Â [ê³µì‹ë¬¸ì„œ](https://react.dev/learn)ë¥¼ ì½ê³  ì •ë¦¬í•œ ê¸€ì´ë‹¤.

# Responding to events

- [Overview](#overview)
- [ë³€ì´ ì—†ì´ ë°°ì—´ ì—…ë°ì´íŠ¸ í•˜ê¸°](#ë³€ì´-ì—†ì´-ë°°ì—´-ì—…ë°ì´íŠ¸-í•˜ê¸°)
- [ë°°ì—´ì— ì¶”ê°€í•˜ê¸°](#ë°°ì—´ì—-ì¶”ê°€í•˜ê¸°)
- [ë°°ì—´ì—ì„œ ì‚­ì œí•˜ê¸°](#ë°°ì—´ì—ì„œ-ì‚­ì œí•˜ê¸°)
- [ë°°ì—´ ë³€ê²½í•˜ê¸°](#ë°°ì—´-ë³€ê²½í•˜ê¸°)
- [ë°°ì—´ì—ì„œ í•­ëª© êµì²´í•˜ê¸°](#ë°°ì—´ì—ì„œ-í•­ëª©-êµì²´í•˜ê¸°)

## Overview

ë°°ì—´ì€ JavaScriptì—ì„œ ë³€ê²½ ê°€ëŠ¥í•˜ì§€ë§Œ stateì— ì €ì¥í•  ë•Œ ë°˜ë“œì‹œ ë³€ê²½ ë¶ˆê°€ëŠ¥ì´ê²Œ ëŒ€í•´ì•¼ í•œë‹¤. ì´ì „ì˜ ê°ì²´ì²˜ëŸ¼ stateì— ì €ì¥ëœ ë°°ì—´ì„ ì—…ë°ì´íŠ¸ í•˜ê³  ì‹¶ìœ¼ë©´ ìƒˆë¡œìš´ ë°°ì—´ì„(ë˜ëŠ” ê¸°ì¡´ ë°°ì—´ì˜ ë³µì‚¬ë³¸ì„ ë§Œë“¦)ì°½ì¡°í•œ ë‹¤ìŒ ìƒˆë¡œìš´ ë°°ì—´ì„ ì‚¬ìš©í•˜ë„ë¡ stateë¥¼ ì„¤ì •í•´ì•¼í•œë‹¤.

## ë³€ì´ ì—†ì´ ë°°ì—´ ì—…ë°ì´íŠ¸ í•˜ê¸°

JavaScriptì—ì„œ ë°°ì—´ì€ ë‹¤ë¥¸ ì¢…ë¥˜ì˜ ê°ì²´ì´ë‹¤. [ê°ì²´ ì²˜ëŸ¼](https://react.dev/learn/updating-objects-in-state), **ë°°ì—´ì€ ë°˜ë“œì‹œ React stateì—ì„œ ì½ê¸° ì „ìš©ìœ¼ë¡œ ì·¨ê¸‰ë˜ì–´ì•¼ í•œë‹¤.** `arr[0] = 'bird`ì²˜ëŸ¼ ë°°ì—´ ë‚´ë¶€ì˜ í•­ëª©ì„ ì¬í• ë‹¹í•˜ë©´ ì•ˆëœë‹¤. ê·¸ë¦¬ê³  `push()`ë‚˜ `pop()`ê°™ì€ ë°°ì—´ì„ ë³€ì´ ì‹œí‚¤ëŠ” ë©”ì†Œë“œë“¤ë„ ì‚¬ìš©í•´ì„  ì•ˆëœë‹¤.

ëŒ€ì‹ , ë°°ì—´ì„ ì—…ë°ì´íŠ¸ í•˜ê³  ì‹¶ì„ ë•Œ, state ì„¤ì • í•¨ìˆ˜ì— ìƒˆ ë°°ì—´ì„ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤. ê·¸ë ‡ê²Œ í•˜ë ¤ë©´ stateì˜ ì›ë˜ ë°°ì—´ì—ì„œ `filter()` ë˜ëŠ” `map()`ê³¼ ê°™ì€ ë¹„ë³€ì´ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ìƒˆ ë°°ì—´ì„ ë§Œë“¤ìˆ˜ ìˆë‹¤. ê·¸ë ‡ê²Œ ë§Œë“¤ì–´ì§„ ìƒˆ ë°°ì—´ì„ stateë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.

ë‹¤ìŒì€ ì¼ë°˜ì ì¸ ë°°ì—´ ì—°ì‚°ì— ëŒ€í•œ ì°¸ì¡° í‘œì´ë‹¤. React state ë‚´ì—ì„œ ë°°ì—´ì„ ë‹¤ë£° ë•ŒëŠ” ì™¼ìª½ ì—´ì˜ ë©”ì„œë“œë¥¼ í”¼í•˜ê³  ëŒ€ì‹  ì˜¤ë¥¸ìª½ ì—´ì˜ ë©”ì„œë“œë¥¼ ì„ í˜¸í•´ì•¼ í•œë‹¤:
![image](https://github.com/tamoimi/new-blog/assets/100749520/26486fc9-a6d5-43fe-a62b-8fb4e16ff5d1)
ë˜ëŠ” ë‘ ì—´ì˜ ë©”ì„œë“œë¥¼ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” [Immerë¥¼ ì‚¬ìš©](https://react.dev/learn/updating-arrays-in-state#write-concise-update-logic-with-immer)í•  ìˆ˜ë„ ìˆë‹¤.

> ğŸš¨ í•¨ì •

[slice](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice)ì™€ [splice](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice)ëŠ” ì´ë¦„ì´ ë¹„ìŠ·í•˜ì§€ë§Œ ë§¤ìš° ë‹¤ë¥´ë‹¤:

- `slice`ëŠ” ë°°ì—´ ë˜ëŠ” ì¼ë¶€ë¥¼ ë³µì‚¬í•  ìˆ˜ ìˆë‹¤.
- `splice`ëŠ” ë°°ì—´ì˜ í•­ëª©ì„ ì‚½ì… í˜¹ì€ ì‚­ì œí•˜ê¸° ìœ„í•´ **ë³€ì´í•œë‹¤.**

Reactì—ì„œ ê°ì²´ë‚˜ ë°°ì—´ì˜ stateë¥¼ ë°”ê¾¸ê³  ì‹¶ì§€ ì•Šê¸° ë•Œë¬¸ì— `slice`ë¥¼ ë” ë§ì´ ì‚¬ìš©í•  ê²ƒì´ë‹¤. [ê°ì²´ state ì—…ë°ì´íŠ¸](https://react.dev/learn/updating-objects-in-state)ì—ì„œ ë³€ì´ê°€ ë¬´ì—‡ì´ê³  ì™œ stateì— ê¶Œì¥ë˜ì§€ ì•ŠëŠ”ì§€ì— ëŒ€í•´ ì„¤ëª…í•œë‹¤.

## ë°°ì—´ì— ì¶”ê°€í•˜ê¸°

`push()`ëŠ” ë°°ì—´ì„ ë³€ì´í•œë‹¤(ìš°ë¦¬ëŠ” ê·¸ê±¸ ì›í•˜ì§€ ì•ŠìŒ!):

```jsx
import { useState } from 'react';

let nextId = 0;

export default function List() {
  const [name, setName] = useState('');
  const [artists, setArtists] = useState([]);

  return (
    <>
      <h1>Inspiring sculptors:</h1>
      <input
        value={name}
        onChange={e => setName(e.target.value)}
      />
      <button onClick={() => {
        artists.push({
          id: nextId++, // --- ìˆ˜ì •ì „ âŒ
          name: name,
        });
//------------------------------------------------------//
        setArtists(
        ...artists,
        { id: nextId++, name: name } // --- ìˆ˜ì •í›„ â­•
        ]);
      }}>Add</button>
      <ul>
        {artists.map(artist => (
          <li key={artist.id}>{artist.name}</li>
        ))}
      </ul>
    </>
  );
}
```

ëŒ€ì‹  ê¸°ì¡´ í•­ëª©ê³¼ ëì— ìƒˆ í•­ëª©ì„ í¬í•¨í•˜ëŠ” ìƒˆ ë°°ì—´ì„ ë§Œë“¤ì. ì´ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì€ ì—¬ëŸ¬ ê°€ì§€ê°€ ìˆì§€ë§Œ ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ `...` [ë°°ì—´ ì „ê°œ êµ¬ë¬¸](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Operators/Spread_syntax)ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤:

```jsx
setArtists(
    ...artists, // ì´ì „ í•­ëª©ì„ í¬í•¨í•œë‹¤.
    { id: nextId++, name: name } // ìƒˆë¡œìš´ í•­ëª©ì„ ëì— ë°°ì¹˜í•œë‹¤.
  ]
);
```

ë°°ì—´ ì „ê°œ êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ë©´ í•­ëª©ì„ ì›ë³¸ ë°°ì—´ `...artists` ì•ì— ë°°ì¹˜í•˜ì—¬ í•­ëª©ì„ ì¶”ê°€í•  ìˆ˜ë„ ìˆë‹¤:

```jsx
setArtists([
  { id: nextId++, name: name },
  ...artists, // ì´ì „ í•­ëª©ì„ ëì— ë°°ì¹˜í•œë‹¤.
]);
```

ì´ëŸ° ì‹ìœ¼ë¡œ ì „ê°œ êµ¬ë¬¸ì€ ë°°ì—´ì˜ ëì— ì¶”ê°€í•˜ëŠ” `push()`ì™€ ë°°ì—´ì˜ ì‹œì‘ ë¶€ë¶„ì— ì¶”ê°€í•˜ëŠ” `unshift()`ì˜ ê¸°ëŠ¥ì„ ëª¨ë‘ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.

## ë°°ì—´ì—ì„œ ì‚­ì œí•˜ê¸°

ë°°ì—´ì—ì„œ í•­ëª©ì„ ì‚­ì œí•˜ëŠ” ê°€ì¥ ì‰¬ìš´ ë°©ë²•ì€ í•„í„°ë¥¼ ì ìš©í•˜ëŠ” ê²ƒì´ë‹¤. í•´ë‹¹ í•­ëª©ì„ í¬í•¨í•˜ì§€ ì•Šì€ ìƒˆë¡œìš´ ë°°ì—´ì„ ìƒì„±í•œë‹¤. ì´ê²ƒì„ í•˜ê¸° ìœ„í•´ `filter` ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤:

```jsx
import { useState } from "react";

let initialArtists = [
  { id: 0, name: "Marta Colvin Andrade" },
  { id: 1, name: "Lamidi Olonade Fakeye" },
  { id: 2, name: "Louise Nevelson" },
];

export default function List() {
  const [artists, setArtists] = useState(initialArtists);

  return (
    <>
      <h1>Inspiring sculptors:</h1>
      <ul>
        {artists.map((artist) => (
          <li key={artist.id}>
            {artist.name}{" "}
            <button
              onClick={() => {
                setArtists(
                  artists.filter(
                    (
                      a, // --- filter ë©”ì†Œë“œ ì ìš©
                    ) => a.id !== artist.id,
                  ),
                );
              }}
            >
              Delete
            </button>
          </li>
        ))}
      </ul>
    </>
  );
}
```

![2023-08-28 11 07 58](https://github.com/tamoimi/new-blog/assets/100749520/ce39b68a-b221-4089-90ed-51e406e3a786)

```jsx
setArtists(artists.filter((a) => a.id !== artist.id));
```

ì—¬ê¸°ì„œ `artists.filter(a => a.id !== artist.id)`êµ¬ë¬¸ì€ `artist.id`ì™€ ë‹¤ë¥¸ IDë¥¼ ê°€ì§„ `artists`ë¡œ êµ¬ì„±ëœ ë°°ì—´ì„ ìƒì„±í•œë‹¤â€ëŠ” ì˜ë¯¸ì´ë‹¤. ì¦‰, ê° artistì˜ â€˜ì‚­ì œâ€™ ë²„íŠ¼ì€ ë°°ì—´ì—ì„œ í•´ë‹¹ ì•„í‹°ìŠ¤íŠ¸ë¥¼ **í•„í„°ë§**í•œ ë‹¤ìŒ ê²°ê³¼ ë°°ì—´ë¡œ ë‹¤ì‹œ ë Œë”ë§í•˜ë„ë¡ ìš”ì²­í•œë‹¤. `filter`ëŠ” ì›ë˜ ë°°ì—´ì„ ìˆ˜ì •í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì— ìœ ì˜í•˜ì!

## ë°°ì—´ ë³€ê²½í•˜ê¸°

ë§Œì•½ ë°°ì—´ì˜ ì „ì²´ í•­ëª©ì´ë‚˜ ì¼ë¶€ë¥¼ ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´, `map()`ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ë°°ì—´ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤. `map`ì— ì „ë‹¬í•  í•¨ìˆ˜ëŠ” ë°ì´í„° ë˜ëŠ” ì¸ë±ìŠ¤(ë˜ëŠ” ë‘˜ ë‹¤)ì— ë”°ë¼ ê° í•­ëª©ì— ëŒ€í•´ ìˆ˜í–‰í•  ì‘ì—…ì„ ê²°ì •í•  ìˆ˜ ìˆë‹¤.

ì´ ì˜ˆì œì—ì„œ ë°°ì—´ì€ ë‘ ê°œì˜ ì›ê³¼ í•˜ë‚˜ì˜ ì •ì‚¬ê°í˜• ì¢Œí‘œë¥¼ í¬í•¨í•œë‹¤. ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì›ë§Œ 50í”½ì…€ ì•„ë˜ë¡œ ì´ë™í•œë‹¤. ì´ê²ƒì€ `map()`ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ë°ì´í„° ë°°ì—´ì„ ìƒì„±í•˜ì—¬ ìˆ˜í–‰ëœë‹¤:

```jsx
import { useState } from "react";

let initialShapes = [
  { id: 0, type: "circle", x: 50, y: 100 },
  { id: 1, type: "square", x: 150, y: 100 },
  { id: 2, type: "circle", x: 250, y: 100 },
];

export default function ShapeEditor() {
  const [shapes, setShapes] = useState(initialShapes);

  function handleClick() {
    const nextShapes = shapes.map((shape) => {
      if (shape.type === "square") {
        // ë³€ê²½ ì—†ìŒ
        return shape;
      } else {
        // 50px ì•„ë˜ë¡œ ìƒˆ ì›ì„ ë°˜í™˜
        return {
          ...shape,
          y: shape.y + 50,
        };
      }
    });
    // ìƒˆë¡œìš´ ë°°ì—´ê³¼ í•¨ê»˜ ë¦¬ ë Œë”ë§
    setShapes(nextShapes);
  }

  return (
    <>
      <button onClick={handleClick}>Move circles down!</button>
      {shapes.map((shape) => (
        <div
          key={shape.id}
          style={{
            background: "purple",
            position: "absolute",
            left: shape.x,
            top: shape.y,
            borderRadius: shape.type === "circle" ? "50%" : "",
            width: 20,
            height: 20,
          }}
        />
      ))}
    </>
  );
}
```

![2023-08-28 11 19 26](https://github.com/tamoimi/new-blog/assets/100749520/6a5881c7-3f91-49d1-9cbd-174d92db5fe3)

## ë°°ì—´ì—ì„œ í•­ëª© êµì²´í•˜ê¸°

ë°°ì—´ì—ì„œ í•˜ë‚˜ ì´ìƒì˜ í•­ëª©ì„ ë°”ê¾¸ê³  ì‹¶ì€ ê²½ìš°ê°€ ìˆë‹¤. `ar[0] = 'bird'`ì™€ ê°™ì€ í• ë‹¹ì€ ì›ë˜ ë°°ì—´ì„ ë³€ì´í•˜ëŠ” ê²ƒì´ë¯€ë¡œ ì´ ê²½ìš°ì—ë„ `map`ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

í•­ëª©ì„ ë°”ê¾¸ë ¤ë©´ `map`ìœ¼ë¡œ ìƒˆ ë°°ì—´ì„ ë§Œë“¤ê³  `map` í˜¸ì¶œ ì•ˆì—ì„œ ë‘ ë²ˆì§¸ ì¸ìˆ˜ë¡œ í•­ëª©ì˜ ì¸ë±ìŠ¤ë¥¼ ë°›ê²Œ ëœë‹¤. ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì›ë˜ í•­ëª©(ì²« ë²ˆì§¸ ì¸ìˆ˜)ì„ ë°˜í™˜í• ì§€ ì•„ë‹ˆë©´ ë‹¤ë¥¸ ê²ƒì„ ë°˜í™˜í• ì§€ ê²°ì •í•  ìˆ˜ ìˆë‹¤:

```jsx
import { useState } from "react";

let initialCounters = [0, 0, 0];

export default function CounterList() {
  const [counters, setCounters] = useState(initialCounters);

  function handleIncrementClick(index) {
    const nextCounters = counters.map((c, i) => {
      if (i === index) {
        // í´ë¦­í•œ ì¹´ìš´í„° ì¦ê°€
        return c + 1;
      } else {
        // ë‚˜ë¨¸ì§€ëŠ” ë³€í•˜ì§€ ì•ŠìŒ
        return c;
      }
    });
    setCounters(nextCounters);
  }

  return (
    <ul>
      {counters.map((counter, i) => (
        <li key={i}>
          {counter}
          <button
            onClick={() => {
              handleIncrementClick(i);
            }}
          >
            +1
          </button>
        </li>
      ))}
    </ul>
  );
}
```

![2023-08-28 11 21 48](https://github.com/tamoimi/new-blog/assets/100749520/d1ae5b15-c6ab-4f7d-84d6-d9e87fdbe615)
